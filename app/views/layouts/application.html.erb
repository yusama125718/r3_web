<!DOCTYPE html>
<html class="h-100">
  <head>
    <title>R3 Log</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="h-100">
    <header class="w-100 d-flex justify-content-between align-items-center px-3  bg-dark border-bottom border-bottom-dark" data-bs-theme="dark" style="height: 60px;">
      <ul class="navbar-nav d-flex flex-row">
        <li class="mx-3 text-muted active"><a href="/" class="nav-link --bs-primary-border-subtle" style="font-size: 20px;">R3 Log</a></li>
      </ul>
      <div class="navbar-brand toggle-menu">
        <button class="btn btn-light btn-sm bg-dark" id="toggle"><i class="navbar-toggler-icon"></i></button>
      </div>
    </header>
    <div class="d-flex flex-row w-100" style="height: calc(100% - 60px)">
      <nav class="bg-secondary" style="width: 200px;">
        <ul class="nav flex-column m-0 p-3">
          <li class="nav-item mb-2">
            <a class="nav-link active" aria-current="page" href="/">Home</a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link" href="/about">about</a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link" href="<%= stats_single_path %>">シングルス</a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link" href="<%= stats_double_path %>">ダブルス</a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link" href="<%= users_path %>">ユーザー一覧</a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link" href="<%= stats_logs_path %>">試合ログ</a>
          </li>
        </ul>
      </nav>
      <main class="w-100 bg-light" style="padding: 10px;">
        <%= yield %>
      </main>
    </div>
  </body>
  <script type="text/javascript">
    window.onload = () => {
      // toggleボタン
      let sidemenuToggle = document.getElementById('toggle')
      // メインコンテンツを囲むmain要素
      let page = document.getElementsByTagName('main')[0];
      // 表示状態 trueで表示中 falseで非表示
      let sidemenuStatus = true;
      // ボタンクリック時のイベント
      sidemenuToggle.addEventListener('click', () => {
        // 表示状態を判定
        if(sidemenuStatus){
            page.style.cssText = 'margin-left: -200px'
            sidemenuStatus = false;
        }else{
            page.style.cssText = 'margin-left: 0px'
            sidemenuStatus = true;
        }
      })
    }
  </script>  
</html>
